{% load static %}
{% load i18n %}

<header class="vg-header">

    <!-- ============================
         الشريط العلوي (Top Bar)
    ============================= -->
    <div class="vg-topbar">

        <!-- يسار -->
        <div class="vg-left">

            <!-- ========== Dropdown اللغة + الدولة ========== -->
            <div class="vg-country-lang-box">

                <!-- زر العرض -->
                <div class="vg-country-trigger" id="countryTrigger">

                    <!-- العلم المختار -->
                    <img src="{% static 'images/flags/' %}{{ request.session.country|default:'sa' }}.svg"
                         class="vg-flag-current">

                    <!-- اسم الدولة -->
                    <span class="vg-country-name">
                        {% if request.session.country == 'ae' %} الإمارات
                        {% elif request.session.country == 'kw' %} الكويت
                        {% elif request.session.country == 'bh' %} البحرين
                        {% elif request.session.country == 'qa' %} قطر
                        {% else %} السعودية
                        {% endif %}
                    </span>

                    <!-- سهم صغير -->
                    <span class="vg-arrow">▾</span>
                </div>

                <!-- القائمة المنسدلة -->
                <div class="vg-country-menu" id="countryMenu">

                    <!-- السعودية -->
                    <form method="post" action="{% url 'core:set_country' %}">
                        {% csrf_token %}
                        <button name="country" value="sa" class="vg-country-item">
                            <img src="{% static 'images/flags/sa.svg' %}" class="vg-flag"> السعودية
                        </button>
                    </form>

                    <!-- الإمارات -->
                    <form method="post" action="{% url 'core:set_country' %}">
                        {% csrf_token %}
                        <button name="country" value="ae" class="vg-country-item">
                            <img src="{% static 'images/flags/ae.svg' %}" class="vg-flag"> الإمارات
                        </button>
                    </form>

                    <!-- الكويت -->
                    <form method="post" action="{% url 'core:set_country' %}">
                        {% csrf_token %}
                        <button name="country" value="kw" class="vg-country-item">
                            <img src="{% static 'images/flags/kw.svg' %}" class="vg-flag"> الكويت
                        </button>
                    </form>

                    <!-- البحرين -->
                    <form method="post" action="{% url 'core:set_country' %}">
                        {% csrf_token %}
                        <button name="country" value="bh" class="vg-country-item">
                            <img src="{% static 'images/flags/bh.svg' %}" class="vg-flag"> البحرين
                        </button>
                    </form>

                    <!-- قطر -->
                    <form method="post" action="{% url 'core:set_country' %}">
                        {% csrf_token %}
                        <button name="country" value="qa" class="vg-country-item">
                            <img src="{% static 'images/flags/qa.svg' %}" class="vg-flag"> قطر
                        </button>
                    </form>

                </div>

            </div>

        </div>

        <!-- يمين -->
        <div class="vg-right">
            {{ block.super }}
        </div>

    </div>

    <!-- ============================
         الشعار
    ============================= -->
    <div class="vg-logo">
        <a href="/" class="vg-brand">VogaStyle</a>
    </div>

    <!-- ============================
         القائمة
    ============================= -->
    <nav class="vg-nav">
        <ul>
            <li><a href="#">النساء</a></li>
            <li><a href="#">الرجال</a></li>
            <li><a href="#">الأطفال</a></li>
            <li><a href="#">المنزل</a></li>
            <li><a href="#">التجميل</a></li>
        </ul>
    </nav>

</header>

<script src="{% static 'js/header.js' %}"></script>
