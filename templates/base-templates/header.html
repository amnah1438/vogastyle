{% load static %}
{% load i18n %}

<header class="vg-header">

    <!-- ============================
         الشريط العلوي - Top Bar
    ============================= -->
    <div class="vg-topbar">

        <!-- يسار -->
        <div class="vg-left">

            <!-- ============================
                 Dropdown اللغة + الدولة
            ============================= -->
            <div class="vg-language-dropdown">

                <!-- زر اللغة + زر العلم -->
                <div class="vg-lang-btn">

                    <!-- زر تغيير اللغة -->
                    <form action="{% url 'set_language' %}" method="post" class="lang-form">
                        {% csrf_token %}
                        {% get_current_language as CURRENT_LANG %}
                        {% if CURRENT_LANG == 'ar' %}
                            <input type="hidden" name="language" value="en">
                            <span class="vg-lang-text">English</span>
                        {% else %}
                            <input type="hidden" name="language" value="ar">
                            <span class="vg-lang-text">العربية</span>
                        {% endif %}
                    </form>

                    <!-- علم السعودية (نسخة تعمل 100%) -->
                    <span class="vg-flag-btn">
                        <svg class="vg-flag-svg" viewBox="0 0 640 480">
                            <rect width="640" height="480" fill="#006c35"/>
                            <rect x="200" y="220" width="240" height="40" fill="#ffffff"/>
                        </svg>
                    </span>

                </div>

                <!-- ============================
                     قائمة الدول المنسدلة
                ============================= -->
                <div class="vg-lang-menu">

                    <!-- السعودية -->
                    <div class="vg-item">
                        <svg class="vg-flag-svg" viewBox="0 0 640 480">
                            <rect width="640" height="480" fill="#006c35"/>
                            <rect x="200" y="220" width="240" height="40" fill="#ffffff"/>
                        </svg>
                        السعودية
                    </div>

                    <!-- البحرين -->
                    <div class="vg-item">
                        <svg class="vg-flag-svg" viewBox="0 0 640 480">
                            <rect width="640" height="480" fill="#fff"/>
                            <path fill="#ce1126" d="M0 0h240l80 40-80 40 80 40-80 40 80 40-80 40 80 40-80 40 80 40V0z"/>
                        </svg>
                        البحرين
                    </div>

                    <!-- قطر -->
                    <div class="vg-item">
                        <svg class="vg-flag-svg" viewBox="0 0 640 480">
                            <rect width="640" height="480" fill="#fff"/>
                            <path fill="#8d1b3d" d="M0 0h200l70 40-70 40 70 40-70 40 70 40-70 40 70 40-70 40 70 40V0z"/>
                        </svg>
                        قطر
                    </div>

                    <!-- الكويت -->
                    <div class="vg-item">
                        <svg class="vg-flag-svg" viewBox="0 0 640 480">
                            <path fill="#ce1126" d="M0 0h640v160H0z"/>
                            <path fill="#fff" d="M0 160h640v160H0z"/>
                            <path fill="#007a3d" d="M0 320h640v160H0z"/>
                            <path fill="#000" d="M0 0l200 160v160L0 480z"/>
                        </svg>
                        الكويت
                    </div>

                    <!-- الإمارات -->
                    <div class="vg-item">
                        <svg class="vg-flag-svg" viewBox="0 0 640 480">
                            <path fill="#00732f" d="M0 0h640v160H0z"/>
                            <path fill="#fff" d="M0 160h640v160H0z"/>
                            <path fill="#000" d="M0 320h640v160H0z"/>
                            <path fill="#ce1126" d="M0 0h200v480H0z"/>
                        </svg>
                        الإمارات
                    </div>

                </div>

            </div>

        </div>

        <!-- ============================
             الأيقونات يمين
        ============================= -->
        <div class="vg-right">
            {% comment %} (ابقِ الأيقونات كما هي) {% endcomment %}
            <svg class="old-icon" viewBox="0 0 24 24">
                <circle cx="11" cy="11" r="7" stroke="#222" stroke-width="2" fill="none"/>
                <line x1="16" y1="16" x2="21" y2="21" stroke="#222" stroke-width="2"/>
            </svg>

            <svg class="old-icon" viewBox="0 0 24 24">
                <rect x="3" y="7" width="18" height="14" rx="2" stroke="#222" stroke-width="2" fill="none"/>
                <circle cx="12" cy="14" r="4" stroke="#222" stroke-width="2" fill="none"/>
                <polyline points="8,7 10,4 14,4 16,7" stroke="#222" stroke-width="2" fill="none"/>
            </svg>

            <svg class="old-icon" viewBox="0 0 24 24">
                <path d="M12 21l-1.5-1.3C5 15 2 12 2 8.5 2 6 4 4 6.5 4c1.7 0 3.4 1 4.3 2.4C11.1 5 12.9 4 14.6 4 17 4 19 6 19 8.5c0 3.5-3 6.5-8.5 11.2L12 21z"
                      stroke="#222" stroke-width="2" fill="none"/>
            </svg>

            <svg class="old-icon" viewBox="0 0 24 24">
                <circle cx="12" cy="7" r="4" stroke="#222" stroke-width="2" fill="none"/>
                <path d="M4 21c0-4 4-7 8-7s8 3 8 7" stroke="#222" stroke-width="2" fill="none"/>
            </svg>

            <svg class="old-icon" viewBox="0 0 24 24">
                <path d="M6 6h15l-2 12H5L3 6h3" stroke="#222" stroke-width="2" fill="none"/>
                <circle cx="9" cy="20" r="1.5" fill="#222"/>
                <circle cx="17" cy="20" r="1.5" fill="#222"/>
            </svg>
        </div>

    </div>

    <!-- ============================
         الشعار
    ============================= -->
    <div class="vg-logo">
        <a href="/" class="vg-brand">VogaStyle</a>
    </div>

    <!-- ============================
         القائمة
    ============================= -->
    <nav class="vg-nav">
        <ul>
            <li><a href="#">النساء</a></li>
            <li><a href="#">الرجال</a></li>
            <li><a href="#">الأطفال</a></li>
            <li><a href="#">المنزل</a></li>
            <li><a href="#">التجميل</a></li>
        </ul>
    </nav>

</header>

<script src="{% static 'js/header.js' %}"></script>
