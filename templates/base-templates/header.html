{% load static %}

<!-- ===========================
     ุดุฑูุท ุงูููุฏุฑ - VogaStyle
=========================== -->
<header class="vg-header">

    <div class="vg-container">

        <!-- =====================
             ุงูุดุนุงุฑ (Logo)
        ====================== -->
        <div class="vg-logo">
            <a href="/" class="vg-brand">VogaStyle</a>
        </div>

        <!-- =====================
             ุงููุงุฆูุฉ (Navigation)
        ====================== -->
        <nav class="vg-nav">
            <ul>
                <li><a href="/">ุงูุฑุฆูุณูุฉ</a></li>
                <li><a href="#">ุงูููุชุฌุงุช</a></li>
                <li><a href="#">ุงูุฃูุณุงู</a></li>
                <li><a href="#">ุชุฎููุถุงุช</a></li>
            </ul>
        </nav>

        <!-- =====================
             ูููู ุงูููุฏุฑ
        ====================== -->
        <div class="vg-right">

            <!-- =====================
                 ูุงุฆูุฉ ุงููุบุฉ
            ====================== -->
            <div class="vg-dropdown">
                <span id="langIcon" class="vg-icon-btn">๐</span>

                <ul id="langMenu" class="vg-dropdown-menu">
                    <li><a href="/?lang=ar">๐ธ๐ฆ ุงูุนุฑุจูุฉ</a></li>
                    <li><a href="/?lang=en">๐ฌ๐ง English</a></li>
                </ul>
            </div>

            <!-- =====================
                 ุชุณุฌูู ุงูุฏุฎูู/ุฅูุดุงุก ุญุณุงุจ
            ====================== -->
            {% if not user.is_authenticated %}
            <div class="vg-auth-btns">

                <a href="{% url 'accounts:login' %}" class="vg-login-btn">
                    ุชุณุฌูู ุงูุฏุฎูู
                </a>

                <a href="{% url 'accounts:register' %}" class="vg-register-btn">
                    ุฅูุดุงุก ุญุณุงุจ
                </a>

            </div>
            {% endif %}

            <!-- =====================
                 ุฃููููุงุช ุงูุจุญุซ + ุงูููุถูุฉ + ุงูุณูุฉ
            ====================== -->
            <span class="vg-icon-btn">&#128269;</span>
            <span class="vg-icon-btn">&#9829;</span>
            <span class="vg-icon-btn">&#128722;</span>

            <!-- =====================
                 ูุงุฆูุฉ ุงูุญุณุงุจ
            ====================== -->
            <div class="vg-dropdown">
                <span id="accountIcon" class="vg-icon-btn">&#128100;</span>

                <ul id="accountMenu" class="vg-dropdown-menu">

                    {% if user.is_authenticated %}
                        <li class="vg-user-welcome">ูุฑุญุจุงูุ {{ user.username }}</li>
                        <li><a href="{% url 'accounts:profile' %}">ุงูููู ุงูุดุฎุตู</a></li>
                        <li><a href="{% url 'accounts:update_profile' %}">ุชุนุฏูู ุงูููู</a></li>
                        <li><a href="{% url 'accounts:logout' %}">ุชุณุฌูู ุงูุฎุฑูุฌ</a></li>

                    {% else %}
                        <li><a href="{% url 'accounts:login' %}">ุชุณุฌูู ุงูุฏุฎูู</a></li>
                        <li><a href="{% url 'accounts:register' %}">ุฅูุดุงุก ุญุณุงุจ</a></li>
                    {% endif %}

                </ul>
            </div>

        </div>

    </div>

</header>

<!-- ===========================
     ุฌุงูุงุณูุฑุจุช ุงูุชุญูู ุจุงูููุงุฆู
=========================== -->
<script>
document.addEventListener("DOMContentLoaded", function () {

    /* ============================
       ูุงุฆูุฉ ุงูุญุณุงุจ
    ============================ */
    const accountIcon = document.getElementById("accountIcon");
    const accountMenu = document.getElementById("accountMenu");

    accountIcon.addEventListener("click", () => {
        accountMenu.classList.toggle("show");
    });

    document.addEventListener("click", (e) => {
        if (!accountIcon.contains(e.target) && !accountMenu.contains(e.target)) {
            accountMenu.classList.remove("show");
        }
    });

    /* ============================
       ูุงุฆูุฉ ุงููุบุงุช
    ============================ */
    const langIcon = document.getElementById("langIcon");
    const langMenu = document.getElementById("langMenu");

    langIcon.addEventListener("click", () => {
        langMenu.classList.toggle("show");
    });

    document.addEventListener("click", (e) => {
        if (!langIcon.contains(e.target) && !langMenu.contains(e.target)) {
            langMenu.classList.remove("show");
        }
    });
});
</script>
