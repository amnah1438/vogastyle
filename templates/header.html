{% load static %}
<!-- ===========================
     شريط الهيدر - VogaStyle
=========================== -->
<header style="
    background-color:#1A1A1A;
    color:#C9A77A;
    padding:16px 0;
    font-family:'Cairo', sans-serif;
">
    <div style="
        max-width:1300px;
        margin:auto;
        display:flex;
        align-items:center;
        justify-content:space-between;
        padding:0 20px;
    ">
        
        <!-- الشعار -->
        <div style="font-size:28px; font-weight:700; color:#C9A77A;">
            VogaStyle
        </div>

        <!-- القائمة -->
        <nav>
            <ul style="
                list-style:none;
                display:flex;
                gap:32px;
                margin:0;
                padding:0;
            ">
                <li><a href="/" style="color:#FFFFFF; text-decoration:none; font-weight:400;">الرئيسية</a></li>
                <li><a href="#" style="color:#FFFFFF; text-decoration:none;">المنتجات</a></li>
                <li><a href="#" style="color:#FFFFFF; text-decoration:none;">الأقسام</a></li>
                <li><a href="#" style="color:#FFFFFF; text-decoration:none;">تخفيضات</a></li>
            </ul>
        </nav>

        <!-- اليمين: الأزرار + الأيقونات + قائمة الحساب -->
        <div style="display:flex; align-items:center; gap:25px; font-size:18px; color:#C9A77A;">

            <!-- أزرار تسجيل الدخول وإنشاء حساب -->
            {% if not user.is_authenticated %}
            <div style="display:flex; align-items:center; gap:15px; margin-left:20px;">

                <!-- تسجيل الدخول -->
                <a href="{% url 'accounts:login' %}"
                   style="
                        padding:8px 18px;
                        border:1px solid #C9A77A;
                        color:#C9A77A;
                        text-decoration:none;
                        border-radius:6px;
                        font-size:15px;
                        transition:0.3s;
                   "
                   onmouseover="this.style.backgroundColor='#C9A77A'; this.style.color='#1A1A1A';"
                   onmouseout="this.style.backgroundColor='transparent'; this.style.color='#C9A77A';">
                    تسجيل الدخول
                </a>

                <!-- إنشاء حساب -->
                <a href="{% url 'accounts:register' %}"
                   style="
                        padding:8px 18px;
                        background-color:#C9A77A;
                        color:#1A1A1A;
                        text-decoration:none;
                        border-radius:6px;
                        font-size:15px;
                        font-weight:600;
                        transition:0.3s;
                   "
                   onmouseover="this.style.opacity='0.8';"
                   onmouseout="this.style.opacity='1';">
                    إنشاء حساب
                </a>
            </div>
            {% endif %}

            <!-- أيقونات -->
            <span style="cursor:pointer; font-size:20px;">&#128269;</span> <!-- بحث -->
            <span style="cursor:pointer; font-size:20px;">&#9829;</span> <!-- مفضلة -->
            <span style="cursor:pointer; font-size:20px;">&#128722;</span> <!-- سلة -->

            <!-- قائمة الحساب -->
            <div style="position:relative;">
                <span id="accountIcon" style="cursor:pointer; font-size:22px;">&#128100;</span>

                <!-- القائمة المنسدلة -->
                <ul id="accountMenu" style="
                    position:absolute;
                    right:0;
                    margin-top:10px;
                    background:#1A1A1A;
                    border:1px solid #C9A77A;
                    border-radius:8px;
                    padding:10px 0;
                    width:180px;
                    display:none;
                    list-style:none;
                    z-index:99;
                ">

                    {% if user.is_authenticated %}
                        <li style="padding:8px 16px; color:#C9A77A;">مرحباً، {{ user.username }}</li>
                        <li><a href="{% url 'accounts:profile' %}" style="display:block; padding:8px 16px; color:#FFF;">الملف الشخصي</a></li>
                        <li><a href="{% url 'accounts:update_profile' %}" style="display:block; padding:8px 16px; color:#FFF;">تعديل الملف</a></li>
                        <li><a href="{% url 'accounts:logout' %}" style="display:block; padding:8px 16px; color:#FFF;">تسجيل الخروج</a></li>

                    {% else %}
                        <li><a href="{% url 'accounts:login' %}" style="display:block; padding:8px 16px; color:#FFF;">تسجيل الدخول</a></li>
                        <li><a href="{% url 'accounts:register' %}" style="display:block; padding:8px 16px; color:#FFF;">إنشاء حساب</a></li>
                    {% endif %}
                </ul>
            </div>

        </div>

    </div>
</header>

<script>
document.addEventListener("DOMContentLoaded", function () {
    const icon = document.getElementById("accountIcon");
    const menu = document.getElementById("accountMenu");

    icon.addEventListener("click", () => {
        menu.style.display = menu.style.display === "block" ? "none" : "block";
    });

    document.addEventListener("click", (e) => {
        if (!icon.contains(e.target) && !menu.contains(e.target)) {
            menu.style.display = "none";
        }
    });
});
</script>
