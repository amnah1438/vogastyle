{% load static %}
<!-- ===========================
     ุดุฑูุท ุงูููุฏุฑ - VogaStyle
=========================== -->
<header style="
    background-color:#1A1A1A;
    color:#C9A77A;
    padding:16px 0;
    font-family:'Cairo', sans-serif;
">
    <div style="
        max-width:1300px;
        margin:auto;
        display:flex;
        align-items:center;
        justify-content:space-between;
        padding:0 20px;
    ">
        
        <!-- ุงูุดุนุงุฑ -->
        <div style="font-size:28px; font-weight:700; color:#C9A77A;">
            VogaStyle
        </div>

        <!-- ุงููุงุฆูุฉ -->
        <nav>
            <ul style="
                list-style:none;
                display:flex;
                gap:32px;
                margin:0;
                padding:0;
            ">
                <li><a href="/" style="color:#FFFFFF; text-decoration:none; font-weight:400;">ุงูุฑุฆูุณูุฉ</a></li>
                <li><a href="#" style="color:#FFFFFF; text-decoration:none;">ุงูููุชุฌุงุช</a></li>
                <li><a href="#" style="color:#FFFFFF; text-decoration:none;">ุงูุฃูุณุงู</a></li>
                <li><a href="#" style="color:#FFFFFF; text-decoration:none;">ุชุฎููุถุงุช</a></li>
            </ul>
        </nav>

        <!-- ุงููููู: ุงูุฃุฒุฑุงุฑ + ุงูุฃููููุงุช + ูุงุฆูุฉ ุงูุญุณุงุจ + ุงููุบุงุช -->
        <div style="display:flex; align-items:center; gap:25px; font-size:18px; color:#C9A77A;">

            <!-- ุฒุฑ ุชุบููุฑ ุงููุบุฉ -->
            <div style="position:relative;">
                <span id="langIcon" style="cursor:pointer; font-size:22px;">๐</span>

                <ul id="langMenu" style="
                    position:absolute;
                    right:0;
                    margin-top:10px;
                    background:#1A1A1A;
                    border:1px solid #C9A77A;
                    border-radius:8px;
                    padding:10px 0;
                    width:160px;
                    display:none;
                    list-style:none;
                    z-index:999;
                ">
                    <li><a href="/?lang=ar" style="display:block; padding:8px 16px; color:#FFF; text-decoration:none;">ุงูุนุฑุจูุฉ</a></li>
                    <li><a href="/?lang=en" style="display:block; padding:8px 16px; color:#FFF; text-decoration:none;">English</a></li>
                </ul>
            </div>

            <!-- ุฃุฒุฑุงุฑ ุชุณุฌูู ุงูุฏุฎูู ูุฅูุดุงุก ุญุณุงุจ -->
            {% if not user.is_authenticated %}
            <div style="display:flex; align-items:center; gap:15px; margin-left:20px;">

                <!-- ุชุณุฌูู ุงูุฏุฎูู -->
                <a href="{% url 'accounts:login' %}"
                   style="
                        padding:8px 18px;
                        border:1px solid #C9A77A;
                        color:#C9A77A;
                        text-decoration:none;
                        border-radius:6px;
                        font-size:15px;
                        transition:0.3s;
                   "
                   onmouseover="this.style.backgroundColor='#C9A77A'; this.style.color='#1A1A1A';"
                   onmouseout="this.style.backgroundColor='transparent'; this.style.color='#C9A77A';">
                    ุชุณุฌูู ุงูุฏุฎูู
                </a>

                <!-- ุฅูุดุงุก ุญุณุงุจ -->
                <a href="{% url 'accounts:register' %}"
                   style="
                        padding:8px 18px;
                        background-color:#C9A77A;
                        color:#1A1A1A;
                        text-decoration:none;
                        border-radius:6px;
                        font-size:15px;
                        font-weight:600;
                        transition:0.3s;
                   "
                   onmouseover="this.style.opacity='0.8';"
                   onmouseout="this.style.opacity='1';">
                    ุฅูุดุงุก ุญุณุงุจ
                </a>
            </div>
            {% endif %}

            <!-- ุฃููููุงุช -->
            <span style="cursor:pointer; font-size:20px;">&#128269;</span> <!-- ุจุญุซ -->
            <span style="cursor:pointer; font-size:20px;">&#9829;</span> <!-- ููุถูุฉ -->
            <span style="cursor:pointer; font-size:20px;">&#128722;</span> <!-- ุณูุฉ -->

            <!-- ูุงุฆูุฉ ุงูุญุณุงุจ -->
            <div style="position:relative;">
                <span id="accountIcon" style="cursor:pointer; font-size:22px;">&#128100;</span>

                <ul id="accountMenu" style="
                    position:absolute;
                    right:0;
                    margin-top:10px;
                    background:#1A1A1A;
                    border:1px solid #C9A77A;
                    border-radius:8px;
                    padding:10px 0;
                    width:180px;
                    display:none;
                    list-style:none;
                    z-index:999;
                ">

                    {% if user.is_authenticated %}
                        <li style="padding:8px 16px; color:#C9A77A;">ูุฑุญุจุงูุ {{ user.username }}</li>
                        <li><a href="{% url 'accounts:profile' %}" style="display:block; padding:8px 16px; color:#FFF;">ุงูููู ุงูุดุฎุตู</a></li>
                        <li><a href="{% url 'accounts:update_profile' %}" style="display:block; padding:8px 16px; color:#FFF;">ุชุนุฏูู ุงูููู</a></li>
                        <li><a href="{% url 'accounts:logout' %}" style="display:block; padding:8px 16px; color:#FFF;">ุชุณุฌูู ุงูุฎุฑูุฌ</a></li>

                    {% else %}
                        <li><a href="{% url 'accounts:login' %}" style="display:block; padding:8px 16px; color:#FFF;">ุชุณุฌูู ุงูุฏุฎูู</a></li>
                        <li><a href="{% url 'accounts:register' %}" style="display:block; padding:8px 16px; color:#FFF;">ุฅูุดุงุก ุญุณุงุจ</a></li>
                    {% endif %}
                </ul>
            </div>

        </div>

    </div>
</header>

<!-- ===========================
     ุฌุงูุงุณูุฑุจุช ุงูุชุญูู ุจุงูููุงุฆู
=========================== -->
<script>
// ูุชุญ/ุฅุบูุงู ูุงุฆูุฉ ุงูุญุณุงุจ
document.addEventListener("DOMContentLoaded", function () {
    const icon = document.getElementById("accountIcon");
    const menu = document.getElementById("accountMenu");

    icon.addEventListener("click", () => {
        menu.style.display = menu.style.display === "block" ? "none" : "block";
    });

    document.addEventListener("click", (e) => {
        if (!icon.contains(e.target) && !menu.contains(e.target)) {
            menu.style.display = "none";
        }
    });
});

// ูุชุญ/ุฅุบูุงู ูุงุฆูุฉ ุงููุบุงุช
document.addEventListener("DOMContentLoaded", function () {
    const langIcon = document.getElementById("langIcon");
    const langMenu = document.getElementById("langMenu");

    langIcon.addEventListener("click", () => {
        langMenu.style.display = langMenu.style.display === "block" ? "none" : "block";
    });

    document.addEventListener("click", (e) => {
        if (!langIcon.contains(e.target) && !langMenu.contains(e.target)) {
            langMenu.style.display = "none";
        }
    });
});
</script>
